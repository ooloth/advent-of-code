#!/usr/bin/env sh

# Usage: new <day><part>
#
# Example: new 1a
# Example: new 25b

# TODO: support these args?
# $ new (infer which puzzle to generate next; i.e. the next unsolved one in AOC_YEAR; need local json file with my AOC progress? or use aoc-cli?)
# $ new 1 (if no part specified, default to first unsolved part? or just generate both parts?)

set -e

source "bin/validate_args"
source "bin/env"

day="${1%[ab]}" # strip the "a" or "b" from the end of $1
part="${1#$day}" # strip the $day from the beginning of $1

# function download_puzzle() {
#   puzzle_destination="aoc/$AOC_YEAR/puzzles/$day.md"

#   if [ -f "$puzzle_destination" ]; then
#     echo "ðŸŽ… Found puzzle at '{rel_path}'"
#     echo "Puzzle already exists: $puzzle_destination"
#     return
#   fi
# }

uv run "aoc/utils/new.py" "$AOC_YEAR" "$day" "$part"
